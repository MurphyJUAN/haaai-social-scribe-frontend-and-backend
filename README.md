# HAAAI Social Scribe - AI ç¤¾å·¥åŠ©æ‰‹ç³»çµ±

ä¸€å€‹åŸºæ–¼ AI çš„ç¤¾å·¥è¨ªè¦–å ±å‘Šè‡ªå‹•ç”Ÿæˆç³»çµ±ï¼Œæ”¯æ´é€å­—ç¨¿åˆ†æã€å ±å‘Šåˆç¨¿ç”Ÿæˆã€äººç‰©é—œä¿‚åœ–è¦–è¦ºåŒ–å’Œè™•é‡è¨ˆç•«ç·¨è¼¯ã€‚ç³»çµ±æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Œå¾Œç«¯ä½¿ç”¨ Flask + Pythonï¼Œå‰ç«¯ä½¿ç”¨ Vue 3 + TypeScriptã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ“ é€å­—ç¨¿è™•ç†** - ä¸Šå‚³æ–‡å­—æª”ã€æ‰‹å‹•ç·¨è¼¯ï¼Œæ”¯æ´éŸ³æª”æ’­æ”¾åŒæ­¥
- **ğŸ¤– æ™ºèƒ½å ±å‘Šç”Ÿæˆ** - AI è‡ªå‹•ç”Ÿæˆç¤¾å·¥è¨ªè¦–å ±å‘Šåˆç¨¿ï¼Œæ”¯æ´æµå¼å›æ‡‰
- **ğŸ‘¥ äººç‰©é—œä¿‚åœ–** - AI æ™ºèƒ½æŠ½å–äººç‰©é—œä¿‚ï¼Œæ”¯æ´è¦–è¦ºåŒ–å’Œé€²éšå°è©±ç·¨è¼¯
- **ğŸ“‹ è™•é‡è¨ˆç•«ç·¨è¼¯** - åŸºæ–¼å ±å‘Šå…§å®¹æ™ºèƒ½ç”Ÿæˆå€‹æ¡ˆè™•é‡è¨ˆç•«
- **ğŸ’¾ æœƒè©±ç®¡ç†** - æ”¯æ´å¤šæœƒè©±ä¸¦è¡Œè™•ç†å’Œæœ¬åœ°æŒä¹…åŒ–
- **ğŸ”§ å¤š LLM æ”¯æ´** - æ”¯æ´ OpenAIã€Ollamaã€Anthropic ç­‰å¤šç¨®èªè¨€æ¨¡å‹

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
haaai-social-scribe/
â”œâ”€â”€ backend/                    # Flask API å¾Œç«¯
â”‚   â”œâ”€â”€ app.py                 # ä¸»æ‡‰ç”¨å…¥å£
â”‚   â”œâ”€â”€ api/                   # API è·¯ç”±æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ report_routes.py   # å ±å‘Šç”ŸæˆAPI
â”‚   â”‚   â”œâ”€â”€ treatment_routes.py # è™•é‡è¨ˆç•«API  
â”‚   â”‚   â””â”€â”€ graph_routes.py    # äººç‰©é—œä¿‚åœ–API
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ session_manager.py # æœƒè©±ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ file_manager.py    # æ–‡ä»¶ç®¡ç†
â”‚   â”‚   â””â”€â”€ treatment_plan.py  # è™•é‡è¨ˆç•«é‚è¼¯
â”‚   â”œâ”€â”€ prompt_core/           # AI Prompt æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ chat.py           # LLM API å°è£
â”‚   â”‚   â””â”€â”€ prompt.py         # Prompt æ¨¡æ¿ç®¡ç†
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾è³´
â”‚   â”œâ”€â”€ Dockerfile            # Docker å»ºç½®æª”æ¡ˆ
â”‚   â””â”€â”€ è¨­å®šæª”/
â”‚       â”œâ”€â”€ setting.json       # LLM æ¨¡å‹è¨­å®š
â”‚       â”œâ”€â”€ run.json          # å ±å‘Šç”Ÿæˆæµç¨‹
â”‚       â”œâ”€â”€ person_graph.json # é—œä¿‚åœ–è¨­å®š
â”‚       â””â”€â”€ treatment_plan.json # è™•é‡è¨ˆç•«è¨­å®š
â”œâ”€â”€ frontend/                  # Vue 3 å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # Vue çµ„ä»¶åº«
â”‚   â”‚   â”‚   â”œâ”€â”€ TypescriptEditor/    # é€å­—ç¨¿ç·¨è¼¯å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportSession/       # å ±å‘Šé¡¯ç¤ºçµ„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PersonGraph/         # äººç‰©é—œä¿‚åœ–çµ„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TreatmentPlan/       # è™•é‡è¨ˆç•«ç·¨è¼¯å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportConfig/        # å ±å‘Šé…ç½®é¢æ¿
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard/           # ä¸»æ§å°
â”‚   â”‚   â”œâ”€â”€ stores/           # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ modules/      # æ¨¡çµ„åŒ– Store
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ views/            # é é¢çµ„ä»¶
â”‚   â”œâ”€â”€ package.json          # Node.js ä¾è³´
â”‚   â””â”€â”€ vite.config.ts        # Vite é–‹ç™¼è¨­å®š
â”œâ”€â”€ start_services.sh          # ä¸€éµå•Ÿå‹•è…³æœ¬
â”œâ”€â”€ stop_services.sh           # ä¸€éµåœæ­¢è…³æœ¬
â””â”€â”€ temp_sessions/            # æœƒè©±æš«å­˜ç›®éŒ„
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ğŸ”§ ç³»çµ±éœ€æ±‚

- **Node.js** 18+ (å‰ç«¯é–‹ç™¼)
- **Python** 3.8+ (å¾Œç«¯é‹è¡Œ)
- **Docker** (å¯é¸ï¼Œç”¨æ–¼å®¹å™¨åŒ–éƒ¨ç½²)

### ğŸ“¦ å®‰è£èˆ‡å•Ÿå‹•

#### æ–¹æ³•ä¸€ï¼šæœ¬åœ°é–‹ç™¼ (æ¨è–¦)

**1. å¾Œç«¯è¨­å®š**
```bash
cd backend

# å®‰è£ Python ä¾è³´
pip install -r requirements.txt

# é…ç½® API é‡‘é‘°
cp api_key.example.json api_key.json
# ç·¨è¼¯ api_key.json å¡«å…¥æ‚¨çš„ API é‡‘é‘°

# å•Ÿå‹• Flask æœå‹™å™¨
python app.py
# å¾Œç«¯å°‡é‹è¡Œåœ¨ http://127.0.0.1:5050
```

**2. å‰ç«¯è¨­å®š**
```bash
cd frontend

# å®‰è£ Node.js ä¾è³´
npm install

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
npm run dev
# å‰ç«¯å°‡é‹è¡Œåœ¨ http://127.0.0.1:5173
```

#### æ–¹æ³•äºŒï¼šä¸€éµå•Ÿå‹•è…³æœ¬ (ç”Ÿç”¢ç’°å¢ƒæ¨è–¦)

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
./start_services.sh

# åœæ­¢æ‰€æœ‰æœå‹™
./stop_services.sh
```

é€™äº›è…³æœ¬æœƒè‡ªå‹•ï¼š
- å•Ÿå‹•å¾Œç«¯ Flask æœå‹™ (ä½¿ç”¨è™›æ“¬ç’°å¢ƒ)
- å•Ÿå‹•å‰ç«¯ Vite é–‹ç™¼æœå‹™å™¨
- æª¢æŸ¥æœå‹™ç‹€æ…‹ä¸¦æä¾›å•Ÿå‹•çµæœå›é¥‹
- æ”¯æ´èƒŒæ™¯åŸ·è¡Œï¼Œé©åˆç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

#### æ–¹æ³•ä¸‰ï¼šDocker éƒ¨ç½² (åƒ…å¾Œç«¯)

```bash
cd backend

# å»ºç½® Docker æ˜ åƒ
docker build -t haaai-backend .

# é‹è¡Œå®¹å™¨ (ä½¿ç”¨ç’°å¢ƒè®Šæ•¸)
docker run -e MY_OPENAI_KEY=your_openai_key -p 5050:5050 haaai-backend
```

### ğŸ”‘ API é‡‘é‘°é…ç½®

**æ–¹å¼ä¸€ï¼šé…ç½®æª”æ¡ˆ** (æœ¬åœ°é–‹ç™¼)
```json
// backend/api_key.json
{
  "my_openai_key": "sk-your-actual-openai-key-here"
}
```

**æ–¹å¼äºŒï¼šç’°å¢ƒè®Šæ•¸** (Docker æ¨è–¦)
```bash
export MY_OPENAI_KEY=sk-your-openai-key
```

---

## ğŸ”Œ API ç«¯é»

| æ–¹æ³• | ç«¯é» | åŠŸèƒ½ | è«‹æ±‚æ ¼å¼ |
|------|------|------|----------|
| POST | `/api/run` | ç”Ÿæˆè¨ªè¦–å ±å‘Š | `{"text": "é€å­—ç¨¿", "sessionId": "å¯é¸", "template": "å ±å‘Šé¡å‹", "selectedSections": []}` |
| POST | `/api/PersonGraph` | ç”Ÿæˆäººç‰©é—œä¿‚åœ– | `{"text": "é€å­—ç¨¿", "sessionId": "å¯é¸"}` |
| POST | `/api/PersonGraphChat` | å°è©±å¼ç·¨è¼¯é—œä¿‚åœ– | `{"message": "æŒ‡ä»¤", "currentGraph": "{...}", "transcript": "é€å­—ç¨¿", "sessionId": "å¿…å¡«"}` |
| POST | `/api/treatment_plan` | ç”Ÿæˆè™•é‡è¨ˆç•« | `{"report": "å ±å‘Šå…§å®¹", "sessionId": "å¯é¸"}` |
| DELETE | `/api/cleanup/<session_id>` | æ¸…ç†æœƒè©±æš«å­˜ | - |
| GET | `/api/health` | å¥åº·æª¢æŸ¥ | - |

### ğŸ“¡ æµå¼å›æ‡‰æ”¯æ´

æ‰€æœ‰ AI ç”Ÿæˆç«¯é»éƒ½æ”¯æ´å³æ™‚æµå¼å›æ‡‰ï¼š

```javascript
// å‰ç«¯æµå¼è«‹æ±‚ç¯„ä¾‹
const response = await fetch('/api/run', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ 
    text: transcript, 
    sessionId: sessionId,
    template: 'é€šç”¨ç¤¾å·¥è©•ä¼°å ±å‘Š',
    selectedSections: ['åŸºæœ¬è³‡æ–™', 'ä¸»è¦è­°é¡Œ', 'éœ€æ±‚è©•ä¼°']
  })
});

const reader = response.body?.getReader();
// è™•ç†æµå¼æ•¸æ“šä¸¦å³æ™‚æ›´æ–° UI
```

---

## âš™ï¸ è¨­å®šæª”èªªæ˜

### `backend/setting.json` - LLM æ¨¡å‹é…ç½®
```json
[
  {
    "id": "openai_gpt-4o",
    "platform": "openai",
    "model": "gpt-4o", 
    "openai_api_key": "my_openai_key"
  },
  {
    "id": "ollama_llama3.2",
    "platform": "ollama", 
    "model": "llama3.2",
    "url": "http://127.0.0.1:11434"
  },
  {
    "id": "anthropic_claude",
    "platform": "anthropic",
    "model": "claude-3-sonnet-20240229",
    "anthropic_api_key": "anthropic_key"
  }
]
```

### `backend/run.json` - å ±å‘Šç”Ÿæˆæµç¨‹
å®šç¾©å¤šæ­¥é©Ÿ AI ç”Ÿæˆæµç¨‹ï¼Œæ”¯æ´æ¢ä»¶åˆ†æ”¯ã€åƒæ•¸å‚³éå’Œè‡ªå®šç¾©æ¨¡æ¿ã€‚

### `backend/person_graph.json` - äººç‰©é—œä¿‚åœ–é…ç½®
è¨­å®šäººç‰©æŠ½å–ã€é—œä¿‚åˆ†æå’Œå°è©±ç·¨è¼¯çš„ Prompt æ¨¡æ¿ã€‚

### `backend/treatment_plan.json` - è™•é‡è¨ˆç•«é…ç½®
å®šç¾©è™•é‡è¨ˆç•«ç”Ÿæˆçš„çµæ§‹åŒ– Prompt å’Œè¼¸å‡ºæ ¼å¼ã€‚

---

## ğŸ¨ å‰ç«¯æ ¸å¿ƒåŠŸèƒ½

### ğŸ“ é€å­—ç¨¿ç·¨è¼¯å™¨ (TypescriptEditor)
- æ–‡å­—æª”ä¸Šå‚³å’Œæ‰‹å‹•ç·¨è¼¯
- éŸ³æª”æ’­æ”¾åŒæ­¥ (æ”¯æ´å¤šç¨®æ ¼å¼)
- è‡ªå‹•å„²å­˜å’Œæ¢å¾©
- ä¸€éµç”Ÿæˆ AI å ±å‘Š

### ğŸ“Š å ±å‘Šç”Ÿæˆ (ReportSession)
- å¤šæ¨¡æ¿å ±å‘Šç”Ÿæˆ
- æ®µè½å¼é…ç½®é¸æ“‡
- å³æ™‚æµå¼é¡¯ç¤º
- PDF åŒ¯å‡ºåŠŸèƒ½

### ğŸ‘¥ äººç‰©é—œä¿‚åœ– (PersonGraph)
- AI è‡ªå‹•æŠ½å–äººç‰©å’Œé—œä¿‚
- Vis.js è¦–è¦ºåŒ–ç¶²è·¯åœ–
- **é€²éšå°è©±ç·¨è¼¯** - é JSON ç·¨è¼¯å™¨ï¼Œè€Œæ˜¯æ™ºèƒ½å°è©±ç³»çµ±
- æ”¯æ´è¤‡é›œé—œä¿‚ä¿®æ”¹æŒ‡ä»¤

### ğŸ“‹ è™•é‡è¨ˆç•«ç·¨è¼¯å™¨ (TreatmentPlan)
- åŸºæ–¼å ±å‘Šå…§å®¹æ™ºèƒ½ç”Ÿæˆ
- æ®µè½çµæ§‹åŒ–ç·¨è¼¯
- å€‹äººåŒ–èª¿æ•´å’Œé‡æ–°ç”Ÿæˆ
- å³æ™‚é è¦½åŠŸèƒ½

### ğŸ—„ï¸ ç‹€æ…‹ç®¡ç† (Pinia)
æ¡ç”¨æ¨¡çµ„åŒ– Store æ¶æ§‹ï¼š
```typescript
// æ¨¡çµ„åŒ–ç‹€æ…‹ç®¡ç†
stores/
â”œâ”€â”€ useSessionStore.ts          # ä¸»æœƒè©±ç‹€æ…‹
â””â”€â”€ modules/
    â”œâ”€â”€ transcriptStore.ts      # é€å­—ç¨¿ç‹€æ…‹
    â”œâ”€â”€ reportStore.ts          # å ±å‘Šç‹€æ…‹
    â”œâ”€â”€ personGraphStore.ts     # é—œä¿‚åœ–ç‹€æ…‹
    â””â”€â”€ treatmentPlanStore.ts   # è™•é‡è¨ˆç•«ç‹€æ…‹
```

---

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### ğŸ“‹ å‰ç«¯é–‹ç™¼æŒ‡ä»¤
```bash
npm run dev          # é–‹ç™¼æœå‹™å™¨ (http://127.0.0.1:5173)
npm run build        # ç”Ÿç”¢å»ºç½®
npm run preview      # é è¦½å»ºç½®çµæœ
npm run type-check   # TypeScript é¡å‹æª¢æŸ¥
npm run lint         # ESLint ä»£ç¢¼æª¢æŸ¥
npm run format       # Prettier ä»£ç¢¼æ ¼å¼åŒ–
```

### ğŸ”§ é–‹ç™¼ç’°å¢ƒé…ç½®
```typescript
// vite.config.ts - å‰ç«¯ä»£ç†è¨­å®š
server: {
  proxy: {
    '/api': 'http://127.0.0.1:5050'  // ä»£ç†æ‰€æœ‰APIè«‹æ±‚
  },
  host: '127.0.0.1',
  port: 5173
}
```

### ğŸ—ï¸ æ¶æ§‹ç‰¹è‰²
- **æ¨¡çµ„åŒ–è¨­è¨ˆ** - å‰å¾Œç«¯å®Œå…¨åˆ†é›¢ï¼Œçµ„ä»¶é«˜åº¦é‡ç”¨
- **TypeScript** - å®Œæ•´å‹åˆ¥æ”¯æ´å’Œé–‹ç™¼æ™‚æª¢æŸ¥
- **éŸ¿æ‡‰å¼ UI** - åŸºæ–¼ PrimeVue + Tailwind CSS
- **æµå¼è™•ç†** - AI å›æ‡‰å³æ™‚é¡¯ç¤ºï¼Œæå‡ä½¿ç”¨è€…é«”é©—

---

## ğŸ”’ å®‰å…¨æ€§å’Œæœ€ä½³å¯¦è¸

### ğŸ” API é‡‘é‘°ä¿è­·
- âœ… ä½¿ç”¨ç’°å¢ƒè®Šæ•¸æˆ–é…ç½®æª”æ¡ˆç®¡ç†é‡‘é‘°
- âœ… `api_key.json` å·²åŠ å…¥ `.gitignore`
- âŒ çµ•ä¸å°‡çœŸå¯¦é‡‘é‘°æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- ğŸ”„ å®šæœŸè¼ªæ› API é‡‘é‘°

### ğŸ—‚ï¸ æª”æ¡ˆå’Œæœƒè©±ç®¡ç†
- è‡ªå‹•æ¸…ç†éæœŸæœƒè©±æª”æ¡ˆ
- æœƒè©±éš”é›¢ç¢ºä¿è³‡æ–™å®‰å…¨
- æœ¬åœ°æŒä¹…åŒ–é¿å…æ„å¤–è³‡æ–™ä¸Ÿå¤±

---

## ğŸ› æ•…éšœæ’é™¤

### Q: å‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯ APIï¼Ÿ
**A:** æª¢æŸ¥å¾Œç«¯æ˜¯å¦åœ¨ `http://127.0.0.1:5050` æ­£å¸¸å•Ÿå‹•ï¼Œç¢ºèªé˜²ç«ç‰†å’Œä»£ç†è¨­å®šã€‚

### Q: AI å›æ‡‰ç•°å¸¸æˆ–ç©ºç™½ï¼Ÿ
**A:** 
1. æª¢æŸ¥ `setting.json` ä¸­çš„æ¨¡å‹é…ç½®æ˜¯å¦æ­£ç¢º
2. ç¢ºèª API é‡‘é‘°æœ‰æ•ˆä¸”æœ‰è¶³å¤ é¡åº¦
3. è‹¥ä½¿ç”¨ Ollamaï¼Œç¢ºèªæœ¬åœ°æ¨¡å‹å·²ä¸‹è¼‰ä¸¦å•Ÿå‹•

### Q: äººç‰©é—œä¿‚åœ–ç„¡æ³•é¡¯ç¤ºï¼Ÿ
**A:** æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤ï¼Œç¢ºèª vis-network ä¾è³´å·²æ­£ç¢ºå®‰è£ã€‚

### Q: Docker å®¹å™¨å•Ÿå‹•å¤±æ•—ï¼Ÿ
**A:** æª¢æŸ¥ç’°å¢ƒè®Šæ•¸è¨­å®šå’Œ Docker æ—¥èªŒï¼š
```bash
docker logs <container_id>
```

---

## ğŸš§ æŠ€è¡“æ£§

### å¾Œç«¯æŠ€è¡“
- **Flask 3.0** - Web æ¡†æ¶
- **OpenAI API** - GPT æ¨¡å‹æ”¯æ´
- **Ollama** - æœ¬åœ° LLM æ”¯æ´  
- **Anthropic API** - Claude æ¨¡å‹æ”¯æ´

### å‰ç«¯æŠ€è¡“
- **Vue 3** - æ¼¸é€²å¼å‰ç«¯æ¡†æ¶
- **TypeScript** - éœæ…‹é¡å‹æª¢æŸ¥
- **Vite** - å¿«é€Ÿå»ºç½®å·¥å…·
- **Pinia** - ç‹€æ…‹ç®¡ç†
- **PrimeVue** - UI çµ„ä»¶åº«
- **Tailwind CSS** - åŸå­åŒ– CSS
- **Vis-Network** - é—œä¿‚åœ–è¦–è¦ºåŒ–

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿è²¢ç»ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. **Fork** æœ¬å€‰åº«
2. **å»ºç«‹** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. **æäº¤** è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. **æ¨é€** åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. **å»ºç«‹** Pull Request

### ğŸ’» é–‹ç™¼è¦ç¯„
- éµå¾ª ESLint å’Œ Prettier è¨­å®š
- æ’°å¯«æ¸…æ™°çš„ commit è¨Šæ¯
- æ–°å¢åŠŸèƒ½è«‹åŒ…å«ç›¸æ‡‰æ¸¬è©¦
- æ›´æ–°ç›¸é—œæ–‡æª”èªªæ˜

---

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) é–‹æºæˆæ¬Šã€‚

---

## ğŸ“ è¯çµ¡æ–¹å¼

- **Issues**: [GitHub Issues](../../issues)
- **æ©Ÿæ§‹**: HAAAI (äººæ–‡ç¤¾æœƒ AI æ‡‰ç”¨ç ”ç©¶ä¸­å¿ƒ)

---

## ğŸ™ è‡´è¬

æ„Ÿè¬æ‰€æœ‰è²¢ç»è€…å’Œé–‹æºç¤¾ç¾¤çš„æ”¯æŒï¼

<div align="center">

**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦å®ƒä¸€å€‹ Starï¼**

</div>